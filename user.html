<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>User - Track Driver</title>
</head>
<body>
  <h2>User Page</h2>
  <button onclick="getDriverLocation()">Get Driver Location</button>
  <p id="location"></p>

  <script>
    // üîó Use your deployed backend URL here
    const backendUrl = "https://your-backend.onrender.com";  

    function getDriverLocation() {
      fetch(`${backendUrl}/location`)
        .then(res => res.json())
        .then(data => {
          console.log("Driver location response:", data); // debug log
          if (data.lat && data.lng) {
            document.getElementById("location").textContent =
              `üöç Driver is at Lat: ${data.lat}, Lng: ${data.lng}, Accuracy: ${data.accuracy}m`;
          } else {
            document.getElementById("location").textContent =
              "‚ö†Ô∏è No driver location available yet.";
          }
        })
        .catch(err => {
          console.error("Error fetching location:", err);
          document.getElementById("location").textContent = "‚ùå Failed to fetch location.";
        });
    }
  </script>
</body>
</html>
