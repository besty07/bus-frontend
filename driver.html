<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Driver - Share Location</title>
</head>
<body>
  <h2>Driver Page</h2>
  <button onclick="sendLocation()">Send Location</button>
  <p id="status"></p>

  <script>
    const backendUrl = "https://your-backend.onrender.com"; // üîó replace with backend deployment URL

    function sendLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(
          (pos) => {
            const data = {
              lat: pos.coords.latitude,
              lng: pos.coords.longitude,
              accuracy: pos.coords.accuracy
            };

            fetch(`${backendUrl}/location`, {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify(data)
            })
            .then(res => res.json())
            .then(res => {
              document.getElementById("status").textContent = "‚úÖ Location sent!";
              console.log("Sent:", res);
            })
            .catch(err => console.error("Error:", err));
          },
          (err) => {
            document.getElementById("status").textContent = "‚ùå Permission denied.";
            console.error(err);
          }
        );
      } else {
        alert("Geolocation not supported in this browser.");
      }
    }
  </script>
</body>
</html>
